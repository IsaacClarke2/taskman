# Apple Notes Shortcut ‚Äî –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é

## –û–±–∑–æ—Ä

Apple Notes –Ω–µ –∏–º–µ–µ—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ API. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–º–µ—Ç–∫–∏ ‚Äî —á–µ—Ä–µ–∑ iOS Shortcuts.

–ú—ã —Å–æ–∑–¥–∞–¥–∏–º Shortcut, –∫–æ—Ç–æ—Ä—ã–π:
1. –ü–æ–ª—É—á–∞–µ—Ç webhook —Å –¥–∞–Ω–Ω—ã–º–∏ –∑–∞–º–µ—Ç–∫–∏
2. –°–æ–∑–¥–∞—ë—Ç –∑–∞–º–µ—Ç–∫—É –≤ Apple Notes

---

## –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ IFTTT (–ø—Ä–æ—â–µ)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ ifttt.com
2. –°–æ–∑–¥–∞—ë—Ç applet: Webhook ‚Üí iOS Notes
3. –ü–æ–ª—É—á–∞–µ—Ç webhook URL
4. –í–≤–æ–¥–∏—Ç webhook URL –≤ –Ω–∞—à–µ–π –ø–∞–Ω–µ–ª–∏

### –ú–∏–Ω—É—Å—ã
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç IFTTT
- –ó–∞–¥–µ—Ä–∂–∫–∞ 1-15 —Å–µ–∫—É–Ω–¥
- IFTTT Pro –¥–ª—è –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤

---

## –í–∞—Ä–∏–∞–Ω—Ç 2: –ù–∞—Ç–∏–≤–Ω—ã–π Shortcut (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å Shortcut —Ñ–∞–π–ª

–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ —Å–æ–∑–¥–∞—Ç—å .shortcut —Ñ–∞–π–ª —Å–ª–æ–∂–Ω–æ (–ø—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç).

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å Shortcut –≤—Ä—É—á–Ω—É—é –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫ iCloud —Å—Å—ã–ª–∫—É.

### –®–∞–≥–∏ —Å–æ–∑–¥–∞–Ω–∏—è Shortcut:

1. **–û—Ç–∫—Ä–æ–π Shortcuts app –Ω–∞ iPhone/iPad/Mac**

2. **–°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π Shortcut —Å –∏–º–µ–Ω–µ–º "AI Assistant Note"**

3. **–î–æ–±–∞–≤—å actions:**

```
1. [Get Contents of URL]
   - URL: (–±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω –∫–∞–∫ input)
   - Method: GET
   
2. [Get Dictionary from Input]

3. [Get Dictionary Value]
   - Key: "title"
   - Save to variable: noteTitle

4. [Get Dictionary Value]  
   - Key: "content"
   - Save to variable: noteContent

5. [Create Note]
   - Body: [noteContent variable]
   - Name: [noteTitle variable]
   - Folder: (–≤—ã–±—Ä–∞—Ç—å –ø–∞–ø–∫—É –∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å default)
```

4. **–ù–∞—Å—Ç—Ä–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é:**
   - Automations ‚Üí Create Personal Automation
   - Trigger: "When I receive a notification from [Your App]" 
   - Action: Run "AI Assistant Note" shortcut

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥: Clipboard Bridge

–ë–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –±–µ–∑ —Å–ª–æ–∂–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:

1. **–ù–∞—à –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–æ–æ–±—â–µ–Ω–∏–µ:**
   ```
   üìì –ó–∞–º–µ—Ç–∫–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—é!
   
   –ó–∞–≥–æ–ª–æ–≤–æ–∫: {title}
   
   {content}
   
   [üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –±—É—Ñ–µ—Ä] [üìì –û—Ç–∫—Ä—ã—Ç—å Apple Notes]
   ```

2. **–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å":**
   - –ö–æ–ø–∏—Ä—É–µ–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –≤ –±—É—Ñ–µ—Ä
   - –û—Ç–∫—Ä—ã–≤–∞–µ–º deep link: `mobilenotes://`

3. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Å—Ç–∞–≤–ª—è–µ—Ç –∏–∑ –±—É—Ñ–µ—Ä–∞ –≤ Notes**

**–≠—Ç–æ –Ω–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è, –Ω–æ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ 100% —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.**

---

## –í–∞—Ä–∏–∞–Ω—Ç 3: Push + Shortcut Automation

### –ú–µ—Ö–∞–Ω–∏–∑–º

1. –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Push Notifications (—á–µ—Ä–µ–∑ –Ω–∞—à web app)
2. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–º–µ—Ç–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º Push —Å –¥–∞–Ω–Ω—ã–º–∏
3. Shortcut Automation —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞ Push
4. Shortcut —Å–æ–∑–¥–∞—ë—Ç –∑–∞–º–µ—Ç–∫—É

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –±—ç–∫–µ–Ω–¥–µ

```python
# api/services/apple_notes.py

import httpx
from typing import Optional

async def send_note_via_push(
    user_push_token: str,
    title: str,
    content: str
) -> bool:
    """
    –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç push notification —Å –¥–∞–Ω–Ω—ã–º–∏ –∑–∞–º–µ—Ç–∫–∏.
    –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç Shortcut Automation –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏.
    """
    
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º APNs –∏–ª–∏ Firebase
    # Payload —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è Shortcut
    payload = {
        "aps": {
            "alert": {
                "title": "New Note",
                "body": title
            },
            "category": "CREATE_NOTE"
        },
        "note_title": title,
        "note_content": content
    }
    
    # –û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ APNs...
    pass
```

### Shortcut Automation –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

```
Trigger: When I receive a notification containing "CREATE_NOTE"

Actions:
1. Get [Shortcut Input]
2. Get Dictionary Value for "note_title"
3. Get Dictionary Value for "note_content"  
4. Create Note with title and content
```

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è MVP

**–ò—Å–ø–æ–ª—å–∑—É–π –í–∞—Ä–∏–∞–Ω—Ç 2 (Clipboard Bridge):**

1. –ù–µ —Ç—Ä–µ–±—É–µ—Ç —Å–ª–æ–∂–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
3. –ú–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞ —á–∞—Å

**UX Flow:**
```
User: [–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∑–∞–º–µ—Ç–∫–æ–π]

Bot: üìì –ì–æ—Ç–æ–≤–æ –∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—é –≤ Apple Notes!

     –ó–∞–≥–æ–ª–æ–≤–æ–∫: –ò–¥–µ—è –¥–ª—è –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏
     ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
     –°–¥–µ–ª–∞—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏
     –≤ –º–æ–±–∏–ª—å–Ω–æ–º –±–∞–Ω–∫–µ...
     
     [üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å] [üìì –û—Ç–∫—Ä—ã—Ç—å Notes] [‚úó –û—Ç–º–µ–Ω–∞]

User: [–Ω–∞–∂–∏–º–∞–µ—Ç "–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å"]

Bot: ‚úì –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ! –í—Å—Ç–∞–≤—å—Ç–µ –≤ Apple Notes.
     [üìì –û—Ç–∫—Ä—ã—Ç—å Notes]
```

**–ö–æ–¥ –¥–ª—è Telegram:**
```python
# bot/keyboards/inline.py

def apple_notes_keyboard(note_id: str) -> InlineKeyboardMarkup:
    return InlineKeyboardMarkup(inline_keyboard=[
        [
            InlineKeyboardButton(
                text="üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å",
                callback_data=f"copy_note:{note_id}"
            ),
            InlineKeyboardButton(
                text="üìì –û—Ç–∫—Ä—ã—Ç—å Notes", 
                url="mobilenotes://"
            )
        ],
        [
            InlineKeyboardButton(
                text="‚úó –û—Ç–º–µ–Ω–∞",
                callback_data=f"cancel_note:{note_id}"
            )
        ]
    ])
```

---

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–≤ web panel)

```markdown
## –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Apple Notes

Apple Notes –Ω–µ –∏–º–µ–µ—Ç –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ API, –ø–æ—ç—Ç–æ–º—É –∑–∞–º–µ—Ç–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è 
—á–µ—Ä–µ–∑ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞.

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –í—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ –∑–∞–º–µ—Ç–∫—É –±–æ—Ç—É
2. –ë–æ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –µ—ë –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å
3. –í—ã –Ω–∞–∂–∏–º–∞–µ—Ç–µ "–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å" ‚Üí "–û—Ç–∫—Ä—ã—Ç—å Notes"
4. –í Apple Notes –Ω–∞–∂–∏–º–∞–µ—Ç–µ "–í—Å—Ç–∞–≤–∏—Ç—å"

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª–Ω—É—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ iOS Shortcut:

1. –°–∫–∞—á–∞–π—Ç–µ –Ω–∞—à Shortcut: [–°—Å—ã–ª–∫–∞]
2. –†–∞–∑—Ä–µ—à–∏—Ç–µ –∑–∞–ø—É—Å–∫ –∏–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
3. –í–∫–ª—é—á–∏—Ç–µ "Allow Untrusted Shortcuts" –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∑–∞–º–µ—Ç–∫–∏ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
```

---

## –§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è

1. `web/app/integrations/apple-notes/page.tsx` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π
2. `web/public/shortcuts/ai-assistant-note.shortcut` ‚Äî —Ñ–∞–π–ª Shortcut (–µ—Å–ª–∏ –¥–µ–ª–∞–µ–º)
3. `bot/handlers/notes.py` ‚Äî –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è clipboard flow
